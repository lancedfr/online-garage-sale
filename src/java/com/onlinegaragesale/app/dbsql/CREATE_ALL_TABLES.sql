-- Generated by Oracle SQL Developer Data Modeler 3.1.2.704
--   at:        2012-09-15 22:31:29 CAT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



DROP TABLE ADDRESS CASCADE CONSTRAINTS 
;
DROP TABLE BID CASCADE CONSTRAINTS 
;
DROP TABLE CATEGORY CASCADE CONSTRAINTS 
;
DROP TABLE CONTACT CASCADE CONSTRAINTS 
;
DROP TABLE GARAGE CASCADE CONSTRAINTS 
;
DROP TABLE PRODUCT CASCADE CONSTRAINTS 
;
DROP TABLE PRODUCTSALES CASCADE CONSTRAINTS 
;
DROP TABLE SALESHISTORY CASCADE CONSTRAINTS 
;
DROP TABLE USERACCOUNT CASCADE CONSTRAINTS 
;

CREATE TABLE ADDRESS 
    ( 
     USERID NUMBER  NOT NULL , 
     ADDRESSLINE VARCHAR2 (20 BYTE) , 
     ROAD VARCHAR2 (20 BYTE)  NOT NULL , 
     SUBURB VARCHAR2 (20 BYTE) , 
     CITY VARCHAR2 (20 BYTE)  NOT NULL , 
     AREACODE VARCHAR2 (20 BYTE) , 
     COUNTRY VARCHAR2 (20 BYTE)  NOT NULL 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE INDEX ADDRESS_CITY_INDEX ON ADDRESS 
    ( 
     CITY ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;
CREATE INDEX ADDRESS_COUNRTY_INDEX ON ADDRESS 
    ( 
     COUNTRY ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;
CREATE UNIQUE INDEX ADDRESS_PK ON ADDRESS 
    ( 
     USERID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE ADDRESS 
    ADD CONSTRAINT ADDRESS_PK PRIMARY KEY ( USERID ) 
    USING INDEX ADDRESS_PK ;



CREATE TABLE BID 
    ( 
     BIDID NUMBER  NOT NULL , 
     PRODID NUMBER , 
     BIDAMOUNT NUMBER (6,4) , 
     USERID NUMBER 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX BID_PK ON BID 
    ( 
     BIDID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE BID 
    ADD CONSTRAINT BID_PK PRIMARY KEY ( BIDID ) 
    USING INDEX BID_PK ;



CREATE TABLE CATEGORY 
    ( 
     CATEGORYID NUMBER  NOT NULL , 
     PRODID NUMBER , 
     CATEGORYTYPE VARCHAR2 (20 BYTE) 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX CATEGORY_PK ON CATEGORY 
    ( 
     CATEGORYID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE CATEGORY 
    ADD CONSTRAINT CATEGORY_PK PRIMARY KEY ( CATEGORYID ) 
    USING INDEX CATEGORY_PK ;



CREATE TABLE CONTACT 
    ( 
     USERID NUMBER  NOT NULL , 
     HOMETELL VARCHAR2 (20 BYTE) , 
     WORKTELL VARCHAR2 (20 BYTE) , 
     CELL VARCHAR2 (20 BYTE) , 
     EMAIL VARCHAR2 (40 BYTE) 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX CONTACT_PK ON CONTACT 
    ( 
     USERID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE CONTACT 
    ADD CONSTRAINT CONTACT_PK PRIMARY KEY ( USERID ) 
    USING INDEX CONTACT_PK ;



CREATE TABLE GARAGE 
    ( 
     GARAGEID NUMBER  NOT NULL , 
     USERID NUMBER , 
     OPENDATE DATE DEFAULT SYSDATE  NOT NULL , 
     CLOSEDATE DATE , 
     GARAGETYPE VARCHAR2 (20 BYTE) 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE INDEX GARAGE_OPENDATE_INDEX ON GARAGE 
    ( 
     OPENDATE ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;
CREATE UNIQUE INDEX GARAGE_PK ON GARAGE 
    ( 
     GARAGEID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE GARAGE 
    ADD CONSTRAINT GARAGE_PK PRIMARY KEY ( GARAGEID ) 
    USING INDEX GARAGE_PK ;



CREATE TABLE PRODUCT 
    ( 
     PRODID NUMBER  NOT NULL , 
     GARAGEID NUMBER , 
     PRODDESC VARCHAR2 (50 BYTE) DEFAULT 'NONE' , 
     PRODCONDITION VARCHAR2 (50 BYTE) DEFAULT 'AVERAGE' , 
     PRODPRICE NUMBER (6,2) , 
     PRODIMAGE BLOB , 
     GARAGE_USERID NUMBER 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
    LOB ( PRODIMAGE ) STORE AS 
        ( 
        TABLESPACE USERS 
        STORAGE ( 
            PCTINCREASE 0 
            MINEXTENTS 1 
            MAXEXTENTS UNLIMITED 
            FREELISTS 1 
            BUFFER_POOL DEFAULT 
        ) 
        CHUNK 8192 
        RETENTION 
        ENABLE STORAGE IN ROW
        NOCACHE LOGGING 
    ) 
;


CREATE UNIQUE INDEX PRODUCT_PK ON PRODUCT 
    ( 
     PRODID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE PRODUCT 
    ADD CONSTRAINT PRODUCT_PK PRIMARY KEY ( PRODID ) 
    USING INDEX PRODUCT_PK ;



CREATE TABLE PRODUCTSALES 
    ( 
     PRODID NUMBER  NOT NULL , 
     PRODDESC VARCHAR2 (50 BYTE) , 
     PRODCONDITION VARCHAR2 (50 BYTE) DEFAULT 'AVERAGE' , 
     PRODIMAGE BLOB , 
     PRODPRICE NUMBER (6,2) , 
     USERID NUMBER 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
    LOB ( PRODIMAGE ) STORE AS 
        ( 
        TABLESPACE USERS 
        STORAGE ( 
            PCTINCREASE 0 
            MINEXTENTS 1 
            MAXEXTENTS UNLIMITED 
            FREELISTS 1 
            BUFFER_POOL DEFAULT 
        ) 
        CHUNK 8192 
        RETENTION 
        ENABLE STORAGE IN ROW
        NOCACHE LOGGING 
    ) 
;


CREATE UNIQUE INDEX PRODUCTSALES_PK ON PRODUCTSALES 
    ( 
     PRODID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE PRODUCTSALES 
    ADD CONSTRAINT PRODUCTSALES_PK PRIMARY KEY ( PRODID ) 
    USING INDEX PRODUCTSALES_PK ;



CREATE TABLE SALESHISTORY 
    ( 
     USERID NUMBER  NOT NULL , 
     SALESID NUMBER  NOT NULL , 
     TOTALSALESCOUNT NUMBER (3) , 
     TOTALSALES NUMBER (6,2) 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX SALESHISTORY_PK ON SALESHISTORY 
    ( 
     USERID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE SALESHISTORY 
    ADD CONSTRAINT SALESHISTORY_PK PRIMARY KEY ( USERID ) 
    USING INDEX SALESHISTORY_PK ;



CREATE TABLE USERACCOUNT 
    ( 
     USERID NUMBER  NOT NULL , 
     FIRSTNAME VARCHAR2 (35 BYTE)  NOT NULL , 
     MIDDLENAME VARCHAR2 (35 BYTE) , 
     LASTNAME VARCHAR2 (35 BYTE)  NOT NULL , 
     DOB DATE  NOT NULL , 
     AGE NUMBER , 
     PASSWORD VARCHAR2 (20 BYTE)  NOT NULL 
    ) 
        PCTFREE 10 
        PCTUSED 40 
        MAXTRANS 255 
        TABLESPACE USERS 
        LOGGING 
        STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT 
    ) 
;


CREATE UNIQUE INDEX USERACCOUNT_PK ON USERACCOUNT 
    ( 
     USERID ASC 
    ) 
    TABLESPACE USERS 
    PCTFREE 10 
    MAXTRANS 255 
    STORAGE ( 
        INITIAL 65536 
        NEXT 1048576 
        PCTINCREASE 0 
        MINEXTENTS 1 
        MAXEXTENTS 2147483645 
        FREELISTS 1 
        FREELIST GROUPS 1 
        BUFFER_POOL DEFAULT ) 
    LOGGING 
;

ALTER TABLE USERACCOUNT 
    ADD CONSTRAINT USERACCOUNT_PK PRIMARY KEY ( USERID ) 
    USING INDEX USERACCOUNT_PK ;




ALTER TABLE ADDRESS 
    ADD CONSTRAINT ADDRESS_USERACCOUNT_FK1 FOREIGN KEY 
    ( 
     USERID
    ) 
    REFERENCES USERACCOUNT 
    ( 
     USERID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE BID 
    ADD CONSTRAINT BID_PRODUCT_FK FOREIGN KEY 
    ( 
     PRODID
    ) 
    REFERENCES PRODUCT 
    ( 
     PRODID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE CATEGORY 
    ADD CONSTRAINT CATEGORY_PRODUCT_FK FOREIGN KEY 
    ( 
     PRODID
    ) 
    REFERENCES PRODUCT 
    ( 
     PRODID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE CONTACT 
    ADD CONSTRAINT CONTACT_USERACCOUNT_FK1 FOREIGN KEY 
    ( 
     USERID
    ) 
    REFERENCES USERACCOUNT 
    ( 
     USERID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE GARAGE 
    ADD CONSTRAINT GARAGE_USERACCOUNT_FK1 FOREIGN KEY 
    ( 
     USERID
    ) 
    REFERENCES USERACCOUNT 
    ( 
     USERID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE PRODUCTSALES 
    ADD CONSTRAINT PRODUCTSALES_SALESHISTORY_FK FOREIGN KEY 
    ( 
     USERID
    ) 
    REFERENCES SALESHISTORY 
    ( 
     USERID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE PRODUCT 
    ADD CONSTRAINT PRODUCT_GARAGE_FK FOREIGN KEY 
    ( 
     GARAGEID
    ) 
    REFERENCES GARAGE 
    ( 
     GARAGEID
    ) 
    NOT DEFERRABLE 
;


ALTER TABLE SALESHISTORY 
    ADD CONSTRAINT SALESHISTORY_USERACCOUNT_FK FOREIGN KEY 
    ( 
     USERID
    ) 
    REFERENCES USERACCOUNT 
    ( 
     USERID
    ) 
    NOT DEFERRABLE 
;



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             9
-- CREATE INDEX                            12
-- ALTER TABLE                             17
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              1
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
