CREATE SEQUENCE USERACCOUNT_ID_SEQ MINVALUE 1 MAXVALUE 99999999 INCREMENT BY 1 START WITH 4001 CACHE 20 NOORDER NOCYCLE;

CREATE OR REPLACE
  FUNCTION CREATE_USERACCOUNT_ID
    RETURN NUMBER
  IS
    SAMPLEID NUMBER;
  BEGIN
    RETURN TO_NUMBER(CONCAT(TO_CHAR(TO_CHAR(SYSDATE, 'YYYY')), USERACCOUNT_ID_SEQ.NEXTVAL), 99999999);
  EXCEPTION
  WHEN OTHERS THEN
    RAISE_APPLICATION_ERROR(-20001,'AN ERROR WAS ENCOUNTERED - '||SQLCODE||' -ERROR- '||SQLERRM);
  END;
  
CREATE OR REPLACE TRIGGER USERACCOUNT_ID_TRIG BEFORE
  INSERT ON USERACCOUNT FOR EACH ROW BEGIN :NEW.USERID := CREATE_USERACCOUNT_ID;
END;

INSERT
INTO USERACCOUNT
  (
    USERID, ACCOUNTPASSWORD, ADDRESSLINE, AREACODE, CITY, COUNTRY, ROAD, SUBURB, AGE, CELL, EMAIL, HOMETELL, WORKTELL, DOB, FIRSTNAME, LASTNAME, MIDDLENAME
  )
  VALUES
  (
    345, '345', '345', '345', '345', '345', '345', '345', 45, '3499', '345', '345', '345', TO_DATE('05-05-2005', 'DD-MM-YYYY'), '234', '234', '234'
  );